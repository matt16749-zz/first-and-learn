<div class="path-container">
  <h1 class="path-header"><%= @path.title %></h1>
  <h3><%= @path.description %></h3>

  <p>Created by: <%= @path.user.first_name %></p>
  <p>Votes: <span id="vote-count"><%= @votes_count %></span></p>
  <% if user_signed_in? %>
    <button class="vote" data-vote-state=true data-voteable-id=<%= @path.id %> data-voteable-type="Path" >Upvote!</button>
    <button class="vote" data-vote-state=false data-voteable-id=<%= @path.id %> data-voteable-type="Path" >Downvote!</button>
  <% end %>

  <% if current_user && current_user[:id] == @path.user_id %>
    <button class="styled-button"><%= link_to "Delete Path", path_path(@path), :method => :delete %></button>
    <button class="styled-button"><%= link_to "Edit Path", edit_path_path(@path) %></button>
  <% end %>

  <button class="styled-button"><%= link_to "Back", paths_path %></button>

  <h3>Steps:</h3>
  <button class="styled-button"><%= link_to "New Step", new_path_step_path(@path) %></button>
  <% @path.steps.order(:position).each do |step| %>
    <p><span><%= step.position %>: </span><%= step.body %></p>
    <p>Link: <a href="<%= step.asset.url %>"><%= step.asset.title %></a></p>
    <p><%= step.asset.description %></p>
  <% end %>

  <h3>Comments:</h3>
  <button class="styled-button" id="new-comment-button"><%= link_to "New Comment", polymorphic_path([@path, Comment]) %></button>
  <% @path.comments.each do |comment|%>
    <p><%= link_to comment.body, polymorphic_path([@path, comment]) %></p>
  <% end %>
</div>
